if (self.CavalryLogger) { CavalryLogger.start_js(["xMdU5"]); }

__d("usePartialViewImpression",["useVisibilityObserver"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.onImpressionEnd;a=a.onImpressionStart;return b("useVisibilityObserver")({onHidden:c,onVisible:a,options:{hiddenWhenCSSStyleHidden:!0,hiddenWhenZeroArea:!0}})}}),null);
__d("MessagingPluginDesktopWelcomeMessagePage.react",["cx","Arbiter","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MPNLocalState","MPNNavigation","MPNWelcomeMessageMinusButtonSVG.react","MPNXDMessageManager","MessagingPluginContext","MessagingPluginPathUtils","ShimButton.react","react","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=i.useContext(b("MessagingPluginContext")),d=c.state,e=d.alignment,f=d.bottomSpacing,g=d.loggedInGreeting,h=d.pageID,j=d.serverTime,k=d.clientRequestTime;d=i.useState(!1);var l=d[0],m=d[1];d=i.useRef(null);var n=b("useResizeObserver")(function(a,c){a=c.clientHeight+12;b("MPNXDMessageManager").resizeIframe(a.toString())});i.useEffect(function(){var a=b("Arbiter").subscribe(b("LiveChatPluginConstants").NAVIGATE_TO_WELCOME_PAGE,function(a){m(!0),p()});return function(){a&&a.unsubscribe()}});i.useEffect(function(){b("LiveChatPluginLoggerUtil").logImpressionUsingXController(h,"bubble",j,null,null,null,null,k)},[h,k,j]);var o=function(){a.ActionDelegate&&a.ActionDelegate.minimize(),window.setTimeout(function(){var d;b("MPNNavigation").navigateToRoute(a.history,b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);b("MPNXDMessageManager").setupDesktopIframe((d=e)!=null?d:"right",(d=f)!=null?d:0,b("MessagingPluginPathUtils").MPN_PATH.WELCOME);d={path:b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"hidden"};c.dispatchAction({type:"START_CHAT",optimisticStorageState:d})},100)},p=function(){window.setTimeout(function(){var d;b("MPNNavigation").navigateToRoute(a.history,b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE);b("MPNXDMessageManager").setupDesktopIframe((d=e)!=null?d:"right",(d=f)!=null?d:0,b("MessagingPluginPathUtils").MPN_PATH.WELCOME);d={path:b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"not-hidden"};c.dispatchAction({type:"START_CHAT",optimisticStorageState:d})},100)},q=e==="left"?"_9ptl":"_9ptk",r=e==="left"?"_9ptn":"_9ptm",s=e==="left"?"_9ptp":"_9pto";l=l?"_9po3":"_9po2";return i.jsxs("div",{className:l,ref:d,children:[i.jsx(b("ShimButton.react"),{onClick:function(){p(),b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c.state.pageID,"plugin_icon",{opened_tab:"bubble"})},children:i.jsx("div",{className:q,ref:n,children:i.jsx("div",{className:r,children:g!=null?g:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString()})})}),i.jsx("div",{className:s,children:i.jsx(b("ShimButton.react"),{onClick:o,className:"_9pti",children:i.jsx(b("MPNWelcomeMessageMinusButtonSVG.react"),{})})})]})}}),null);
__d("isBusinessURI",["isFacebookURI"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return b("isFacebookURI")(a)&&a.getSubdomain()==="business"}}),null);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;e.exports=b}),null);